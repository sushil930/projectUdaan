---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';

const issues = await getCollection('issues');
---

<Layout title="Issues | UDAAN">
  <section class="py-16">
    <div class="container mx-auto">
      <h1 class="text-4xl font-bold text-navy mb-12 text-center">All Issues</h1>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {issues.map(issue => (
          <a href={`/issues/${issue.slug}`} class="block bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow">
            <img src={issue.data.cover} alt={`Cover of ${issue.data.title}`} class="rounded-t-lg w-full h-64 object-cover" />
            <div class="p-6">
              <h2 class="text-2xl font-bold text-navy mb-2">{issue.data.title}</h2>
              <p class="text-gray-600">{new Date(issue.data.pubDate).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}</p>
            </div>
          </a>
        ))}
      </div>
    </div>
  </section>
</Layout>